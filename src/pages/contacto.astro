---
import MainLayout from '../layouts/MainLayout.astro';
import ContactForm from '../components/ContactForm.astro';
import Button from '../components/Button.astro';
import PageHero from '../components/PageHero.astro';
import { contactInfo } from '../data/contact-info';
---

<MainLayout
  title="Contacto - Espacio Ludimente"
  description="Cont√°ctanos para agendar una cita o resolver tus dudas. Psicolog√≠a infantil en Francisco de Montejo, M√©rida."
  includeLocalBusiness={true}
>
  <PageHero 
    title="Hablemos" 
    subtitle="Estamos aqu√≠ para escuchar tus dudas y encontrar el mejor camino para tu familia."
    variant="centered"
  />

  <section class="contact-page">
    <div class="container">
      <div class="grid grid-2" style="gap: var(--spacing-xl); align-items: start;">
        <!-- Columna Izquierda: Info -->
        <div class="contact-info">
          <div class="info-block">
            <h3>üìç Ubicaci√≥n</h3>
            <p>
              {contactInfo.address.street}, {contactInfo.address.neighborhood}<br>
              {contactInfo.address.zipCode} {contactInfo.address.city}, {contactInfo.address.state}
            </p>
            <div class="map-container">
              <iframe
                src={contactInfo.location.googleMapsUrl}
                width="100%"
                height="250"
                style="border:0;"
                allowfullscreen=""
                loading="lazy"
                title="Mapa de ubicaci√≥n Espacio Ludimente">
              </iframe>
            </div>
          </div>

          <div class="info-block">
            <h3>üìû Contacto Directo</h3>
            <p>Ll√°manos o escr√≠benos por WhatsApp:</p>
            <div class="contact-buttons">
              <Button href={`tel:${contactInfo.phone.primary}`} variant="outline" size="sm">{contactInfo.phone.formatted.primary}</Button>
              <Button href={contactInfo.social.find(s => s.platform === 'whatsapp')?.url || "#"} variant="secondary" size="sm">WhatsApp</Button>
            </div>
            <p class="email-link">
              <a href={`mailto:${contactInfo.email}`}>{contactInfo.email}</a>
            </p>
          </div>

          <div class="info-block">
            <h3>‚è∞ Horarios</h3>
            <ul class="schedule-list">
              <li><strong>Lunes a Viernes:</strong> {contactInfo.hours.weekdays}</li>
              <li><strong>S√°bados:</strong> {contactInfo.hours.weekends}</li>
            </ul>
          </div>
        </div>

        <!-- Columna Derecha: Formulario -->
        <div class="contact-form-wrapper">
          <ContactForm />
        </div>
      </div>
    </div>
  </section>
</MainLayout>

<style>
  .contact-page {
    padding-bottom: var(--spacing-xl);
  }

  .info-block {
    margin-bottom: var(--spacing-lg);
  }

  .info-block h3 {
    font-size: 1.25rem;
    color: var(--color-primary);
    margin-bottom: var(--spacing-sm);
  }

  .map-container {
    margin-top: var(--spacing-sm);
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: var(--shadow-sm);
  }

  .contact-buttons {
    display: flex;
    gap: var(--spacing-sm);
    margin: var(--spacing-sm) 0;
    flex-wrap: wrap;
  }

  .email-link a {
    color: var(--color-text);
    text-decoration: underline;
    text-decoration-color: var(--color-primary);
  }

  .schedule-list {
    list-style: none;
    padding: 0;
  }

  .schedule-list li {
    margin-bottom: 8px;
  }

  @media (max-width: 768px) {
    .contact-form-wrapper {
      order: -1; /* Formulario primero en m√≥vil */
    }
  }
</style>
