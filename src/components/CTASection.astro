---
/**
 * CTASection.astro
 * Sección de llamada a la acción reutilizable
 */

import Button from './Button.astro';

interface CTA {
  text: string;
  href: string;
  variant?: 'primary' | 'secondary' | 'outline';
  target?: string;
}

interface Props {
  title: string;
  description: string;
  primaryCTA?: CTA;
  secondaryCTA?: CTA;
}

const { 
  title, 
  description, 
  primaryCTA = { text: 'Reservar cita', href: '/reservar', variant: 'primary' },
  secondaryCTA 
} = Astro.props;
---

<section class="cta-section">
  <div class="container text-center">
    <h2>{title}</h2>
    <p class="description">{description}</p>
    
    <div class="cta-buttons">
      <Button href={primaryCTA.href} variant={primaryCTA.variant || 'primary'} size="lg">
        {primaryCTA.text}
      </Button>
      
      {secondaryCTA && (
        <Button 
          href={secondaryCTA.href} 
          variant={secondaryCTA.variant || 'outline'} 
          size="lg"
          target={secondaryCTA.target}
        >
          {secondaryCTA.text}
        </Button>
      )}
    </div>
  </div>
  
  <!-- Blob decorativo opcional -->
  <div class="blob" aria-hidden="true"></div>
</section>

<style>
  .cta-section {
    padding: var(--spacing-xl) 0;
    background-color: var(--color-primary-container);
    position: relative;
    overflow: hidden;
    margin-top: var(--spacing-xl);
  }

  .description {
    font-size: var(--text-body-large);
    color: var(--color-text);
    max-width: 700px;
    margin: 0 auto var(--spacing-lg);
  }

  .cta-buttons {
    display: flex;
    justify-content: center;
    gap: var(--spacing-md);
    position: relative;
    z-index: 1;
  }

  .blob {
    position: absolute;
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, rgba(255,255,255,0.4), transparent);
    border-radius: 50%;
    bottom: -100px;
    right: -50px;
    pointer-events: none;
  }

  @media (max-width: 768px) {
    .cta-buttons {
      flex-direction: column;
      width: 100%;
    }
  }
</style>
