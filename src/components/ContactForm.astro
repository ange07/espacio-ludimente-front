---
/**
 * ContactForm.astro
 * Formulario de contacto con integración a Formspree
 * Campos: Nombre, Email, Teléfono, Mensaje
 */

import Button from './Button.astro';
import { siteConfig } from '../data/site-config';

interface Props {
  action?: string;
}

const { action = siteConfig.formspreeEndpoint } = Astro.props;
---

<form action={action} method="POST" class="contact-form">
  <div class="form-group">
    <label for="name">Nombre completo <span class="required">*</span></label>
    <input
      type="text"
      id="name"
      name="name"
      required
      placeholder="Ej. María Pérez"
      class="form-input"
    />
  </div>

  <div class="form-group">
    <label for="email">Correo electrónico <span class="required">*</span></label>
    <input
      type="email"
      id="email"
      name="email"
      required
      placeholder="nombre@ejemplo.com"
      class="form-input"
    />
  </div>

  <div class="form-group">
    <label for="phone">Teléfono (opcional)</label>
    <input
      type="tel"
      id="phone"
      name="phone"
      placeholder="Ej. 999 123 4567"
      class="form-input"
    />
  </div>

  <div class="form-group">
    <label for="message">Mensaje <span class="required">*</span></label>
    <textarea
      id="message"
      name="message"
      required
      placeholder="¿En qué podemos ayudarte?"
      rows="5"
      class="form-input"
    ></textarea>
  </div>

  <div class="form-actions">
    <Button type="submit" variant="primary" size="lg" class="submit-btn">
      Enviar mensaje
    </Button>
  </div>
</form>

<style>
  .contact-form {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
    background-color: var(--color-background);
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-md);
    border: 1px solid var(--color-outline);
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  label {
    font-family: var(--font-body);
    font-weight: 600;
    color: var(--color-text);
    font-size: var(--text-body);
  }

  .required {
    color: var(--color-error);
  }

  .form-input {
    font-family: var(--font-body);
    padding: 12px 16px;
    border: 2px solid var(--color-outline);
    border-radius: var(--radius-sm);
    font-size: 1rem;
    transition: all var(--transition-fast);
    background-color: var(--color-gray-50);
  }

  .form-input:focus {
    outline: none;
    border-color: var(--color-primary);
    background-color: var(--color-white);
    box-shadow: 0 0 0 4px var(--color-primary-container);
  }

  .form-input::placeholder {
    color: var(--color-gray-400);
  }

  textarea.form-input {
    resize: vertical;
    min-height: 120px;
  }

  .form-actions {
    margin-top: var(--spacing-sm);
  }

  .submit-btn {
    width: 100%;
  }

  @media (max-width: 768px) {
    .contact-form {
      padding: var(--spacing-md);
    }
  }
</style>
