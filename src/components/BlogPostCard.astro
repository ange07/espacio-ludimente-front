---
/**
 * BlogPostCard.astro
 * Tarjeta para mostrar resumen de artículos del blog
 */

import type { BlogPost } from '../data/types';

interface Props extends BlogPost {}

const { title, excerpt, date, slug, image = "/images/blog-placeholder.jpg" } = Astro.props;
---

<article class="blog-card">
  <a href={`/blog/${slug}`} class="image-link" aria-hidden="true" tabindex="-1">
    <div class="image-container">
      {image ? (
        <img src={image} alt="" loading="lazy" />
      ) : (
        <div class="placeholder-image"></div>
      )}
    </div>
  </a>

  <div class="content">
    <time datetime={date} class="date">{new Date(date).toLocaleDateString('es-MX', { year: 'numeric', month: 'long', day: 'numeric' })}</time>
    
    <h3 class="title">
      <a href={`/blog/${slug}`}>{title}</a>
    </h3>
    
    <p class="excerpt">{excerpt}</p>
    
    <a href={`/blog/${slug}`} class="read-more">
      Leer artículo <span aria-hidden="true">→</span>
    </a>
  </div>
</article>

<style>
  .blog-card {
    display: flex;
    flex-direction: column;
    background-color: var(--color-background);
    border-radius: var(--radius-md);
    overflow: hidden;
    border: 1px solid var(--color-outline);
    transition: all var(--transition-base);
    height: 100%;
  }

  .blog-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-md);
    border-color: var(--color-primary);
  }

  .image-container {
    aspect-ratio: 16/9;
    background-color: var(--color-surface);
    overflow: hidden;
  }

  .image-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform var(--transition-slow);
  }

  .blog-card:hover .image-container img {
    transform: scale(1.05);
  }

  .content {
    padding: var(--spacing-md);
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    gap: var(--spacing-xs);
  }

  .date {
    font-size: var(--text-label);
    color: var(--color-gray-500);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: 600;
  }

  .title {
    font-family: var(--font-display);
    font-size: 1.25rem;
    line-height: 1.3;
    margin: 0;
  }

  .title a {
    color: var(--color-text);
    text-decoration: none;
  }

  .title a:hover {
    color: var(--color-primary);
  }

  .excerpt {
    font-size: var(--text-body);
    color: var(--color-gray-700);
    margin-bottom: var(--spacing-sm);
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    flex-grow: 1;
  }

  .read-more {
    font-weight: 600;
    font-size: var(--text-body-small);
    color: var(--color-primary);
    text-decoration: none;
    align-self: flex-start;
    margin-top: auto;
  }

  .read-more:hover {
    color: var(--color-secondary);
    text-decoration: underline;
  }
</style>
